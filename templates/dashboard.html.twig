{% extends 'base_template.html.twig' %}

{% block title %}Dashboard
{% endblock %}

{% block content %}
	<div class="container my-5">
		<h1 class="text-center mb-4">Dashboard</h1>
		<p class="text-center">Bienvenue sur votre dashboard.</p>
	</div>

	{# Affichage des projets #}
	<div class="container">
		<h2 class="mt-5">Projets</h2>
		<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
			{% for project in projets %}
				<div class="col">
					<div class="card h-100 shadow-sm">
						<img src="{{ project.imageCover }}" class="card-img-top img-fluid" alt="Image de {{ project.titre }}" style="height: 200px; object-fit: cover;">
						<div class="card-body">
							<h3 class="card-title">{{ project.titre }}</h3>
							<div class="d-flex align-items-center mb-2">
								<span class="badge bg-secondary me-2">{{ project.annee }}</span>
								<h4 class="m-0 small secondary">
									{% for techno in project.technologies %}
										{{ loop.first ? '' : ', ' }}{{ techno.nom }}
									{% endfor %}
								</h4>
							</div>
							<p class="card-text">{{ project.description }}</p>
						</div>
						<div class="card-footer d-flex justify-content-between align-items-center">
							<small class="text-muted">Type :
								{{ project.type }}</small>
							<div>
								<!-- Bouton Modifier -->
								<a href="index.php?controller=projets&methode=edit&id={{ project.id }}" class="btn btn-sm btn-primary me-2">
									Modifier
								</a>
								<!-- Bouton Supprimer -->
								<a href="index.php?controller=projets&methode=delete&id={{ project.id }}" class="btn btn-sm btn-danger" onclick="return confirm('Voulez-vous vraiment supprimer ce projet ?');">
									Supprimer
								</a>
							</div>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>


{% endblock %}
